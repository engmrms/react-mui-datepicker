import { Meta } from '@storybook/blocks'

<Meta title="Installation Guide" />

# Installation Guide for mada-design-system


## Installation

To install the package, run the following command:

```sh
npm install mada-design-system
```

## Configuration

### 1. Setup Tailwind Configuration

Modify your Tailwind config file (`tailwind.config.ts` or `tailwind.config.js`) as follows:

```ts
import tailwinds from 'mada-design-system/tailwind'

 
export const darkMode = ['class']
export const content = ['./src/**/*.{ts,tsx}', './node_modules/mada-design-system/*.{html,js,ts,jsx,tsx}']

export const theme = tailwinds.theme
export const plugins = tailwinds.plugins
```

### 2. Setup Global CSS

Import the package styles into your global CSS file (e.g., `globals.css` or `index.css`):

```css
@import url('../../../node_modules/mada-design-system/style.css');
@tailwind base;
@tailwind components;
@tailwind utilities;
```

### 3. Setup TypeScript Configuration

Modify your `tsconfig.json` file:

```json
{
    "extends": "./node_modules/mada-design-system/tsconfig",
    "compilerOptions": {
        "baseUrl": ".",
        "paths": {
            "@/*": ["./src/*"]
        }
    },
    "include": ["src"]
}
```

### 4. Setup Prettier Configuration

Modify your `package.json` to include:

```json
"prettier": "./node_modules/mada-design-system/.prettierrc.json"
```

### 5. Setup PostCSS Configuration

Modify your `postcss.config.js` or `postcss.config.ts` file:

```js
export default {
    plugins: {
        tailwindcss: {},
        autoprefixer: {},
        'postcss-rtlcss': { ltrPrefix: '[dir="rtl"]', rtlPrefix: '[dir="ltr"]' },
    },
}
```

## Using ShadCN Components

This package is built over ShadCN components. You can refer to [ShadCN documentation](https://ui.shadcn.com/) for further customization and details.

## Handling Localization

This package uses `react-localization` to support Arabic and English. Ensure localization is properly handled in your `App.tsx`:

```tsx
import { setLanguage, useLanguage } from 'mada-design-system'
import { useEffect, useLayoutEffect } from 'react'

function App() {
    const { lang, dir } = useLanguage()

    useLayoutEffect(() => {
        document.dir = dir
        if (navigator.userAgent.indexOf('iPhone') > -1) {
            document?.querySelector('[name=viewport]')?.setAttribute('content', 'width=device-width, initial-scale=1, maximum-scale=1')
        }
    }, [dir])

    useEffect(() => {
        if (!lang) return
        setLanguage(lang)
    }, [lang])

    return <!--- App component -->
}

export default App
```

By following these steps, you will have successfully installed and configured `mada-design-system` in your project.
